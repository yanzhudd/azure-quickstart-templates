arm_template
{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#", "contentVersion": "1.0.0.0", "parameters": {"galleryName": {"type": "string", "metadata": {"description": "Name of the Azure Compute Gallery."}, "defaultValue": "zytest"}, "galleryImageDefinitionName": {"type": "string", "metadata": {"description": "Name of the Image Definition."}, "defaultValue": "zytest"}, "location": {"type": "string", "defaultValue": "westus", "metadata": {"description": "Location of the Azure Compute Gallery."}}}, "resources": [{"type": "Microsoft.Compute/galleries/images", "name": "[concat(parameters(\'galleryName\'), \'/\', parameters(\'galleryImageDefinitionName\'))]", "apiVersion": "2019-12-01", "location": "[parameters(\'location\')]", "properties": {"description": "Sample Gallery Image Description", "osType": "Linux", "osState": "Generalized", "endOfLifeDate": "2030-01-01", "identifier": {"publisher": "myPublisher", "offer": "myOffer", "sku": "mySku"}, "recommended": {"vCPUs": {"min": "1", "max": "64"}, "memory": {"min": "2048", "max": "307720"}}}}]}


cli_script
```bash\n#!/bin/bash\n\n# Define variables for template parameters\ngalleryName="zytest"\ngalleryImageDefinitionName="zytest"\nlocation="westus"\n\n# Create a Gallery Image Definition under an existing Compute Gallery\naz sig image-definition create \\\n    --resource-group $resourceGroupName \\\n    --gallery-name $galleryName \\\n    --gallery-image-definition $galleryImageDefinitionName \\\n    --location $location \\\n    --os-type Linux \\\n    --os-state Generalized \\\n    --end-of-life-date "2030-01-01" \\\n    --publisher "myPublisher" \\\n    --offer "myOffer" \\\n    --sku "mySku" \\\n    --description "Sample Gallery Image Description" \\\n    --minimum-cpu-core 1 \\\n    --maximum-cpu-core 64 \\\n    --minimum-memory 2048 \\\n    --maximum-memory 307720\n```\n\nPlease note that you need to replace `$resourceGroupName` with your actual Azure Resource Group name where the Compute Gallery exists.


verify_result
