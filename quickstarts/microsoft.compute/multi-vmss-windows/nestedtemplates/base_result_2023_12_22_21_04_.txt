arm_template
{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#", "contentVersion": "1.0.0.0", "parameters": {"VMSSName": {"type": "string", "defaultValue": "zytest"}, "singlePlacementGroup": {"type": "bool", "defaultValue": true}, "instanceCount": {"type": "int", "defaultValue": "zytest"}, "subnetId": {"type": "string", "defaultValue": "zytest"}, "adminUsername": {"type": "string", "defaultValue": "zytest"}, "location": {"type": "string", "defaultValue": "westus"}, "adminPassword": {"type": "securestring", "defaultValue": "zytest"}}, "variables": {}, "resources": [{"type": "Microsoft.Compute/virtualMachineScaleSets", "apiVersion": "2020-12-01", "name": "[parameters(\'vmSSName\')]", "location": "[parameters(\'location\')]", "sku": {"name": "Standard_A1", "tier": "Standard", "capacity": "[parameters(\'instanceCount\')]"}, "properties": {"singlePlacementGroup": "[parameters(\'singlePlacementGroup\')]", "overprovision": "true", "upgradePolicy": {"mode": "Manual"}, "virtualMachineProfile": {"storageProfile": {"osDisk": {"createOption": "FromImage", "caching": "ReadWrite"}, "imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer", "sku": "2012-R2-Datacenter", "version": "latest"}}, "osProfile": {"computerNamePrefix": "[parameters(\'vmSSName\')]", "adminUsername": "[parameters(\'adminUsername\')]", "adminPassword": "[parameters(\'adminPassword\')]"}, "networkProfile": {"networkInterfaceConfigurations": [{"name": "[concat(\'nic\', parameters(\'vmSSName\'))]", "properties": {"primary": true, "ipConfigurations": [{"name": "[concat(\'ipconfig\', parameters(\'vmSSName\'))]", "properties": {"subnet": {"id": "[parameters(\'subnetId\')]"}}}]}}]}}}}]}


cli_script
Here is the equivalent CLI script:\n\n```bash\n#!/bin/bash\n\n# Define the parameters\nVMSSName="zytest"\nsinglePlacementGroup=true\ninstanceCount="zytest"\nsubnetId="zytest"\nadminUsername="zytest"\nlocation="westus"\nadminPassword="zytest"\n\n# Create a virtual machine scale set\naz vmss create \\\n  --name $VMSSName \\\n  --resource-group myResourceGroup \\\n  --location $location \\\n  --admin-username $adminUsername \\\n  --admin-password $adminPassword \\\n  --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest \\\n  --vm-sku Standard_A1 \\\n  --instance-count $instanceCount \\\n  --single-placement-group $singlePlacementGroup \\\n  --upgrade-policy-mode Manual \\\n  --subnet $subnetId\n```\n\nPlease replace `myResourceGroup` with your actual resource group name. This script creates a virtual machine scale set with the specified parameters. The `az vmss create` command is used to create a new virtual machine scale set. The `--name`, `--resource-group`, `--location`, `--admin-username`, `--admin-password`, `--image`, `--vm-sku`, `--instance-count`, `--single-placement-group`, `--upgrade-policy-mode`, and `--subnet` options are used to specify the parameters for the virtual machine scale set.


verify_result
