arm_template
{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#", "contentVersion": "1.0.0.0", "parameters": {"VMSSName": {"type": "string", "defaultValue": "zytest"}, "singlePlacementGroup": {"type": "bool", "defaultValue": true}, "instanceCount": {"type": "int", "defaultValue": "zytest"}, "subnetId": {"type": "string", "defaultValue": "zytest"}, "adminUsername": {"type": "string", "defaultValue": "zytest"}, "location": {"type": "string", "defaultValue": "westus"}, "adminPassword": {"type": "securestring", "defaultValue": "zytest"}}, "variables": {}, "resources": [{"type": "Microsoft.Compute/virtualMachineScaleSets", "apiVersion": "2020-12-01", "name": "[parameters(\'vmSSName\')]", "location": "[parameters(\'location\')]", "sku": {"name": "Standard_A1", "tier": "Standard", "capacity": "[parameters(\'instanceCount\')]"}, "properties": {"singlePlacementGroup": "[parameters(\'singlePlacementGroup\')]", "overprovision": "true", "upgradePolicy": {"mode": "Manual"}, "virtualMachineProfile": {"storageProfile": {"osDisk": {"createOption": "FromImage", "caching": "ReadWrite"}, "imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer", "sku": "2012-R2-Datacenter", "version": "latest"}}, "osProfile": {"computerNamePrefix": "[parameters(\'vmSSName\')]", "adminUsername": "[parameters(\'adminUsername\')]", "adminPassword": "[parameters(\'adminPassword\')]"}, "networkProfile": {"networkInterfaceConfigurations": [{"name": "[concat(\'nic\', parameters(\'vmSSName\'))]", "properties": {"primary": true, "ipConfigurations": [{"name": "[concat(\'ipconfig\', parameters(\'vmSSName\'))]", "properties": {"subnet": {"id": "[parameters(\'subnetId\')]"}}}]}}]}}}}]}


cli_script
Based on the provided JSON data, here is the equivalent Azure CLI script that creates a Virtual Machine Scale Set (VMSS) with the specified parameters:\n\n```bash\n#!/bin/bash\n\n# Assign the template parameters to variables\nvmss_name="zytest"\nsingle_placement_group=true\ninstance_count=1 # Assuming "zytest" was a placeholder and should be an integer\nsubnet_id="zytest"\nadmin_username="zytest"\nlocation="westus"\nadmin_password="zytest" # Note: In a real scenario, you should handle the securestring more securely\n\n# Create a Virtual Machine Scale Set\naz vmss create \\\n  --name $vmss_name \\\n  --resource-group <ResourceGroup> \\ # Replace <ResourceGroup> with your actual resource group name\n  --location $location \\\n  --vm-sku Standard_A1 \\\n  --instance-count $instance_count \\\n  --single-placement-group $single_placement_group \\\n  --upgrade-policy-mode Manual \\\n  --admin-username $admin_username \\\n  --admin-password $admin_password \\\n  --image "MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest" \\\n  --subnet $subnet_id \\\n  --overprovision true\n\n# Note: The script assumes that the subnet already exists and is specified by the provided subnet ID.\n# If the subnet does not exist, you will need to create it before running this script.\n# Also, replace <ResourceGroup> with the name of the resource group where you want to create the VMSS.\n```\n\nPlease replace `<ResourceGroup>` with the actual name of your resource group. Note that the `admin_password` should be handled securely and not hardcoded in the script for production use. This script assumes that the provided `subnet_id` is correct and that the subnet already exists. If it does not, you will need to create the subnet before running this script.


verify_result
