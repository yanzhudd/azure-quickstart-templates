arm_template
{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#", "contentVersion": "1.0.0.0", "parameters": {"vmName": {"type": "string", "metadata": {"description": "Name of the virtual machine"}, "defaultValue": "zytest"}, "volumeType": {"type": "string", "defaultValue": "Data", "metadata": {"description": "Volume type being decrypted"}}, "forceUpdateTag": {"type": "string", "defaultValue": "[uniqueString(resourceGroup().id, deployment().name)]", "metadata": {"description": "Pass in an unique value like a GUID everytime the operation needs to be force run"}}, "location": {"type": "string", "defaultValue": "westus", "metadata": {"description": "Location for all resources."}}}, "resources": [{"type": "Microsoft.Compute/virtualMachines/extensions", "name": "[concat(parameters(\'vmName\'),\'/\',\'AzureDiskEncryptionForLinux\')]", "location": "[parameters(\'location\')]", "apiVersion": "2020-12-01", "properties": {"publisher": "Microsoft.Azure.Security", "type": "AzureDiskEncryptionForLinux", "typeHandlerVersion": "1.1", "autoUpgradeMinorVersion": true, "forceUpdateTag": "[parameters(\'forceUpdateTag\')]", "settings": {"EncryptionOperation": "DisableEncryption", "VolumeType": "[parameters(\'volumeType\')]"}}}]}


cli_script
Here is the equivalent CLI script for the given ARM template:\n\n```bash\n#!/bin/bash\n\n# Define parameters\nvmName="zytest"\nvolumeType="Data"\nforceUpdateTag=$(uuidgen)\nlocation="westus"\n\n# Create a virtual machine extension\naz vm extension set \\\n  --resource-group $resourceGroup \\\n  --vm-name $vmName \\\n  --name AzureDiskEncryptionForLinux \\\n  --publisher Microsoft.Azure.Security \\\n  --version 1.1 \\\n  --settings \'{"EncryptionOperation": "DisableEncryption", "VolumeType": "\'$volumeType\'"}\' \\\n  --location $location \\\n  --force-update-tag $forceUpdateTag\n```\n\nPlease replace `$resourceGroup` with your actual resource group name. This script creates a virtual machine extension for Azure Disk Encryption for Linux. The `--force-update-tag` option is used to force the operation to run. The `--settings` option is used to specify the encryption operation and volume type.


verify_result
