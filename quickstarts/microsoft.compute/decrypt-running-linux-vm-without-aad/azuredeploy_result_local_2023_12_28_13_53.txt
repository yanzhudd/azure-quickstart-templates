arm_template
{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#", "contentVersion": "1.0.0.0", "parameters": {"vmName": {"type": "string", "metadata": {"description": "Name of the virtual machine"}, "defaultValue": "zytest"}, "volumeType": {"type": "string", "defaultValue": "Data", "metadata": {"description": "Volume type being decrypted"}}, "forceUpdateTag": {"type": "string", "defaultValue": "[uniqueString(resourceGroup().id, deployment().name)]", "metadata": {"description": "Pass in an unique value like a GUID everytime the operation needs to be force run"}}, "location": {"type": "string", "defaultValue": "westus", "metadata": {"description": "Location for all resources."}}}, "resources": [{"type": "Microsoft.Compute/virtualMachines/extensions", "name": "[concat(parameters(\'vmName\'),\'/\',\'AzureDiskEncryptionForLinux\')]", "location": "[parameters(\'location\')]", "apiVersion": "2020-12-01", "properties": {"publisher": "Microsoft.Azure.Security", "type": "AzureDiskEncryptionForLinux", "typeHandlerVersion": "1.1", "autoUpgradeMinorVersion": true, "forceUpdateTag": "[parameters(\'forceUpdateTag\')]", "settings": {"EncryptionOperation": "DisableEncryption", "VolumeType": "[parameters(\'volumeType\')]"}}}]}


cli_script
Below is the equivalent Azure CLI bash script for the provided ARM template. I have converted the ARM template parameters into bash variables and the resources into corresponding Azure CLI commands.\n\n```bash\n#!/bin/bash\n\n# Parameters\nvmName="zytest" # Default value, change if needed\nvolumeType="Data" # Default value, change if needed\nforceUpdateTag=$(uuidgen) # Generates a unique string\nlocation="westus" # Default value, change if needed\n\n# Resource: Microsoft.Compute/virtualMachines/extensions\n# Command to create or update the extension for disabling encryption on a Linux VM\n\n# Note: Adjust the --name parameter by concatenating the VM name and the extension name\n# For example, if vmName is "zytest", then the extension name should be "zytest/AzureDiskEncryptionForLinux"\n\naz vm extension set \\\n  --resource-group "<YourResourceGroupName>" \\ # Replace <YourResourceGroupName> with your actual resource group name\n  --vm-name "$vmName" \\\n  --name "AzureDiskEncryptionForLinux" \\\n  --publisher "Microsoft.Azure.Security" \\\n  --version "1.1" \\\n  --settings "{\\"EncryptionOperation\\":\\"DisableEncryption\\",\\"VolumeType\\":\\"$volumeType\\"}" \\\n  --location "$location" \\\n  --force-update-tag "$forceUpdateTag" \\\n  --no-auto-upgrade\n\n# Remember to replace <YourResourceGroupName> with your actual resource group name where the VM is located.\n```\n\nPlease make sure to replace `<YourResourceGroupName>` with the actual name of the resource group where your virtual machine is located. If you have different values for the parameters `vmName`, `volumeType`, `location`, or if you want to use a specific value for `forceUpdateTag`, you should update the variables accordingly before running the script.


verify_result
